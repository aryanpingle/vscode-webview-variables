const fs = require("fs");

function getVariableNameWithoutVSCode(variableName) {
    return variableName.substring("--vscode-".length);
}

const fileContent = fs.readFileSync("src/original-variables.txt").toString()
const CSSVariableNames = fileContent.split("\n");
CSSVariableNames.sort();

const exportedObject = {};
CSSVariableNames.forEach(cssVar => {
    const propertyName = getVariableNameWithoutVSCode(cssVar);

    exportedObject[propertyName] = {
        cssName: cssVar,
        themeName: propertyName.replaceAll("-", "."),
    };
})

const exportedObjectString = JSON.stringify(exportedObject, undefined, 2);

const generatedFilename = "src/vscode-colors.ts";
const autoGeneratedDisclaimer = `/**
 * This file is automatically generated by running src/create-vscode-colors.js
*/
`;
fs.writeFileSync(generatedFilename, autoGeneratedDisclaimer + `export const VscodeColors = ${exportedObjectString};`);